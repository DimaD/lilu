Useful snippet:

 def fill_inputs
   update(:all,'input').with do
     if element[:name] and element[:name].match(/([a-z,_]+)\[([a-z,_]+)\]/)
       element[:value] = send($1).send($2)
     end
   end
   update(:all,'textarea').with do
     if element[:name] and element[:name].match(/([a-z,_]+)\[([a-z,_]+)\]/)
       element.inner_html = send($1).send($2)
     end
   end
 end
